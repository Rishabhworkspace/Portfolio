<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TIC-TAC-TOE | rishabh.exe</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/3.5.0/remixicon.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        neo: {
                            bg: '#f0f0f0',
                            black: '#121212',
                            white: '#ffffff',
                            blue: '#3b82f6',
                            red: '#ef4444',
                            yellow: '#eab308',
                            green: '#22c55e',
                            purple: '#a855f7',
                            pink: '#ec4899',
                            orange: '#f97316',
                        }
                    },
                    boxShadow: {
                        hard: '4px 4px 0px 0px rgba(0,0,0,1)',
                    },
                    cursor: {
                        hover: 'url("data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'40\' height=\'40\' viewport=\'0 0 100 100\' style=\'fill:black;font-size:24px;\'><text y=\'50%\'>ðŸ‘†</text></svg>") 16 0, auto',
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Koulen&display=swap');

        body {
            font-family: 'Space Mono', monospace;
            background-image: radial-gradient(#000 1px, transparent 1px);
            background-size: 40px 40px;
        }

        .font-display {
            font-family: 'Koulen', cursive;
        }

        .cursor-hover:hover {
            cursor: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewport='0 0 100 100' style='fill:black;font-size:24px;'><text y='50%'>ðŸ‘†</text></svg>") 16 0, auto;
        }
    </style>
</head>

<body class="bg-neo-bg min-h-screen flex flex-col items-center justify-center p-4">

    <div class="fixed top-4 left-4 z-50">
        <a href="../index.html"
            class="bg-white border-2 border-black px-4 py-2 font-bold shadow-hard hover:bg-neo-yellow transition-all flex items-center gap-2">
            <i class="ri-arrow-left-line"></i> BACK_TO_ROOT
        </a>
    </div>

    <div class="max-w-md w-full bg-white border-4 border-black p-8 shadow-hard relative">
        <div
            class="absolute -top-4 -right-4 bg-neo-green text-black px-4 py-1 border-2 border-black font-bold transform rotate-2">
            GAME_001
        </div>

        <h1 class="text-4xl font-display font-black text-center mb-2">TIC_TAC_TOE</h1>
        <div class="text-center font-mono text-sm text-gray-500 mb-8">SYSTEM_AI vs PLAYER_ONE</div>

        <div class="flex justify-between mb-4 font-bold text-sm">
            <div class="bg-neo-blue text-white px-3 py-1 border-2 border-neo-black">YOU: <span
                    id="player-score">0</span></div>
            <div class="bg-neo-red text-white px-3 py-1 border-2 border-neo-black">AI: <span id="ai-score">0</span>
            </div>
        </div>

        <div class="grid grid-cols-3 gap-2 bg-black border-2 border-black p-2 mb-6">
            <!-- Cells will be generated by JS -->
        </div>

        <div id="status" class="text-center font-bold text-xl mb-6 min-h-[1.75rem]">YOUR TURN</div>

        <button onclick="resetGame()"
            class="w-full bg-neo-black text-white py-3 font-bold border-2 border-transparent hover:bg-white hover:text-black hover:border-black transition-all shadow-hard">
            RESET_SYSTEM
        </button>
    </div>

    <script>
        const grid = document.querySelector('.grid');
        const statusDisplay = document.getElementById('status');
        const playerScoreEl = document.getElementById('player-score');
        const aiScoreEl = document.getElementById('ai-score');

        let currentPlayer = 'X';
        let gameState = Array(9).fill("");
        let gameActive = true;
        let playerScore = 0;
        let aiScore = 0;

        const winningConditions = [
            [0, 1, 2], [3, 4, 5], [6, 7, 8],
            [0, 3, 6], [1, 4, 7], [2, 5, 8],
            [0, 4, 8], [2, 4, 6]
        ];

        function initGame() {
            grid.innerHTML = '';
            gameState.fill("");
            gameActive = true;
            currentPlayer = 'X';
            statusDisplay.innerText = "YOUR TURN (X)";
            statusDisplay.className = "text-center font-bold text-xl mb-6 min-h-[1.75rem] text-black";

            for (let i = 0; i < 9; i++) {
                const cell = document.createElement('div');
                cell.classList.add('bg-white', 'h-24', 'flex', 'items-center', 'justify-center', 'text-4xl', 'font-black', 'cursor-pointer', 'hover:bg-gray-100', 'transition-colors');
                cell.setAttribute('data-index', i);
                cell.addEventListener('click', handleCellClick);
                grid.appendChild(cell);
            }
        }

        function handleCellClick(e) {
            const clickedCell = e.target;
            const clickedCellIndex = parseInt(clickedCell.getAttribute('data-index'));

            if (gameState[clickedCellIndex] !== "" || !gameActive || currentPlayer === 'O') {
                return;
            }

            handleCellPlayed(clickedCell, clickedCellIndex);
            handleResultValidation();
        }

        function handleCellPlayed(clickedCell, clickedCellIndex) {
            gameState[clickedCellIndex] = currentPlayer;
            clickedCell.innerText = currentPlayer;
            clickedCell.classList.add(currentPlayer === 'X' ? 'text-neo-blue' : 'text-neo-red');
        }

        function handleResultValidation() {
            let roundWon = false;
            for (let i = 0; i <= 7; i++) {
                const winCondition = winningConditions[i];
                let a = gameState[winCondition[0]];
                let b = gameState[winCondition[1]];
                let c = gameState[winCondition[2]];
                if (a === '' || b === '' || c === '') {
                    continue;
                }
                if (a === b && b === c) {
                    roundWon = true;
                    break;
                }
            }

            if (roundWon) {
                statusDisplay.innerText = currentPlayer === 'X' ? "YOU WON!" : "SYSTEM WON!";
                statusDisplay.classList.add(currentPlayer === 'X' ? 'text-neo-blue' : 'text-neo-red');
                gameActive = false;
                if (currentPlayer === 'X') {
                    playerScore++;
                    playerScoreEl.innerText = playerScore;
                } else {
                    aiScore++;
                    aiScoreEl.innerText = aiScore;
                }
                return;
            }

            let roundDraw = !gameState.includes("");
            if (roundDraw) {
                statusDisplay.innerText = "DRAW!";
                statusDisplay.classList.add('text-gray-500');
                gameActive = false;
                return;
            }

            currentPlayer = currentPlayer === "X" ? "O" : "X";

            if (currentPlayer === "O") {
                statusDisplay.innerText = "SYSTEM THINKING...";
                setTimeout(makeAiMove, 500);
            } else {
                statusDisplay.innerText = "YOUR TURN (X)";
            }
        }

        function makeAiMove() {
            if (!gameActive) return;

            // Simple AI: Find empty spot
            let availableSpots = [];
            gameState.forEach((cell, index) => {
                if (cell === "") availableSpots.push(index);
            });

            if (availableSpots.length > 0) {
                const randomSpot = availableSpots[Math.floor(Math.random() * availableSpots.length)];
                const cell = document.querySelector(`[data-index='${randomSpot}']`);
                handleCellPlayed(cell, randomSpot);
                handleResultValidation();
            }
        }

        function resetGame() {
            initGame();
        }

        initGame();
    </script>
</body>

</html>